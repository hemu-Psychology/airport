// 页面加载时自动执行
function initApp() {
    // ...初始化其他内容
    
    // 页面加载后立即尝试自动加载数据
    setTimeout(() => {
        tryAutoLoadData();
    }, 100);
}

// 自动加载数据函数
async function tryAutoLoadData() {
    // 1. 尝试加载航班数据
    let flightData = await loadLocalFile('Flight_info.json');
    if (flightData) {
        // 2. 尝试加载权重配置
        let weightData = await loadLocalFile('weights.json');
        
        // 3. 处理航班数据
        processFlightData(flightData);
        
        // 4. 如果找到权重配置，应用它
        if (weightData && weightData.cities) {
            applyWeightConfig(weightData);
        }
        
        // 5. 渲染热力图
        renderHeatmap();
        
        showStatus('已自动加载航班数据', 'success');
    }
}